<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8">
	<title>Merge Visualizer</title>
	<link rel="stylesheet" href="scatterPlot.css"/>
</head>

<body>
  <script src="http://d3js.org/d3.v3.min.js"></script>

  <script src="//code.jquery.com/jquery-1.11.2.min.js"></script>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap-theme.min.css">
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>

  <script src="scatterPlot.js"></script>
  <script src="data-visualizer.js"></script>

	<div id="scatterplot"></div>

	<script>
  		//configure the plot
  		var myScatterPlot = scatterPlot()
  			.height(600)
  			.width(parseInt(d3.select("body").style("width")))
  			.circleRadius(4);

  		d3.csv("all.csv", function(error, data) {

  		//convert strings into numbers
  		data.forEach(function(d) {
  			d.LOC_A_TO_B = +d.LOC_A_TO_B;
  			d.LOC_A_TO_SOLVED = +d.LOC_A_TO_SOLVED;
  			d.LOC_B_TO_SOLVED = +d.LOC_B_TO_SOLVED;

  			d.AST_A_TO_B = +d.AST_A_TO_B;
  			d.AST_A_TO_SOLVED = +d.AST_A_TO_SOVLED;
  			d.AST_B_TO_SOLVED = +d.AST_B_TO_SOLVED;
  		});

		  //data to be shown
		  myScatterPlot.xValue(xAxisFunction)
		    .yValue(yAxisFunction)
		    .label(function(d) { return d.PROJECT + "\n" + d.SHA + "\n" + d.FILE; })
		    .category(function(d) { return d.PROJECT; })
        .clickAction(goToData);

		  d3.select("#scatterplot").datum(data).call(myScatterPlot);
	});


	</script>
</body>
</html>
